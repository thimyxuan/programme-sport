{% extends "layout.html.twig" %}

{% block title 'Création et modification programme' %}
    
{% block content %}
{#{{ dump(file) }}
{{ dump(programme) }}
{{ dump(exercices) }}
{{ dump(post) }}#}

{#<form method="POST" enctype="multipart/form-data">#}
        
        {#    PARTIE ENREGISTREMENT PROGRAMME    #}
        
        {#<div>
            <label>Titre du programme</label>
            <input type="text" name="titre" value="{{ programme.titre }}">
        </div>
        <div>            
            <label>Objectif</label>
            <select name="objectif_id">
                <option value="">Choisir</option>
                {% for objectif in objectifs %}                    
                    <option value="{{ objectif.id }}" {% if objectif.id == programme.objectifId %}selected{% endif %} >{{ objectif.titre }}</option>
                {% endfor %}
            </select>
        </div>
        <div>            
            <label>Matériel</label>
            <select name="materiel">
                <option value="">Choisir</option>
                <option value="oui" {% if programme.materiel == 'oui'%}selected{% endif %}>Oui</option>
                <option value="non" {% if programme.materiel == 'non'%}selected{% endif %}>Non</option>
                <option value="facultatif" {% if programme.materiel == 'facultatif'%}selected{% endif %}>Facultatif</option>
            </select>
        </div>
        <div>            
            <label>Difficulté</label>
            <select name="difficulte">
                <option value="">Choisir</option>
                <option value="facile" {% if programme.difficulte == 'facile'%}selected{% endif %}>Facile</option>
                <option value="moyen" {% if programme.difficulte == 'moyen'%}selected{% endif %}>Moyen</option>
                <option value="difficile" {% if programme.difficulte == 'difficile'%}selected{% endif %}>Difficile</option>
                <option value="infernal" {% if programme.difficulte == 'infernal'%}selected{% endif %}>Infernal</option>
            </select>
        </div>
        <div>
            <label>Photo</label>
            <input type="file" name="photo_programme" value="{#{{ programme.photoProgramme }}#}{#">
        </div>
        <div>    
            <label>Sport</label>
            <select name="sport">  
                <option value="">Choisir</option>
                <option value="fitness" {% if programme.sport == 'fitness'%}selected{% endif %}>Fitness</option>
                <option value="muscu" {% if programme.sport == 'muscu'%}selected{% endif %}>Musculation</option>
                <option value="running" {% if programme.sport == 'running'%}selected{% endif %}>Running</option>
                <option value="stretching" {% if programme.sport == 'stretching'%}selected{% endif %}>Stretching</option>
                <option value="yoga" {% if programme.sport == 'yoga'%}selected{% endif %}>Yoga</option>
            </select>
        </div>
        <div>
            <label>Durée du programme (en semaine)</label>
            <input type="text" name="duree" value="{{ programme.duree }}">
       </div>           #}
    
            
            
        {#    PARTIE ENREGISTREMENT JOURS    #}
            {#{% for i in 1..1 %}    
                <h2>Jour {{i}}</h2>
                <input type="hidden" name="programme_id" value="">
                <div>
                    <label>Statut</label>
                    <select type="text" name="jour[{{i}}][statut]">
                        <option value="">choisir</option>
                        <option value="entrainement" {#{% if jours.statut == 'entrainement'%}selected{% endif %}#}{#>entrainement</option>
                        <option value="repos">repos</option>
                    </select>
                </div>       
                        
                <div class="exercices">
                {% for j in 1..1 %}
                    <div class="exercice">
                        <h2>Exercice {{j}}</h2>
                        <input type="hidden" name="jour_id" value="">
                        <div>
                            <label>Titre de l'exercice</label>
                            <input type="text" name="jour[{{i}}][exercice][{{j}}][titre]">
                        </div>
                        <div>
                            <label>Consigne</label>
                            <textarea type="text" name="jour[{{i}}][exercice][{{j}}][consigne]"></textarea>
                        </div>
                        <div>            
                            <label>Difficulté</label>
                            <select name="jour[{{i}}][exercice][{{j}}][difficulte]">
                                <option value="">choisir</option>
                                <option value="facile">Facile</option>
                                <option value="moyen">Moyen</option>
                                <option value="difficile">Difficile</option>
                                <option value="infernal">Infernal</option>
                            </select>
                        </div>
                        <div>            
                            <label>Zone musculaire</label>
                            <select name="jour[{{i}}][exercice][{{j}}][zone_musculaire]">
                                <option value="">Choisir</option>
                                <option value="bras">Bras</option>
                                <option value="cou">Cou</option>
                                <option value="dos">Dos</option>
                                <option value="epaule">Epaules</option>
                                <option value="fessiers">Fessiers</option>
                                <option value="jambes">Jambes</option>                                
                            </select>
                        </div>
                        <div>
                            <label>Muscle(s) ciblé(s)</label>
                            <input type="text" name="jour[{{i}}][exercice][{{j}}][muscle_cible]">
                        </div>
                        <div>
                            <input type="hidden" name="jour_id" value="">
                        </div>
                        <div>
                            <label>Photo</label>
                            <input type="file" name="jour[{{i}}][exercice][{{j}}][photo]" value="">
                        </div>
                        <div>
                            <label>Séries</label>
                            <input type="text" name="jour[{{i}}][exercice][{{j}}][serie]" value="">
                        </div>
                        <div>
                            <label>Répétitions</label>
                            <input type="text" name="jour[{{i}}][exercice][{{j}}][repetition]" value="">
                        </div>
                        <div>
                            <label>Détails séries</label>
                            <textarea type="text" name="jour[{{i}}][exercice][{{j}}][detail_serie]"></textarea>
                        </div>
                        <div>
                            <label>Temps de repos entre chaque série</label>
                            <input type="text" name="jour[{{i}}][exercice][{{j}}][temps_repos]">
                        </div>
                    </div>
                {% endfor %}
                <button type="button" class="clone_exercice" data-added="0" data-jour="{{i}}">Ajouter un exercice</button>
                </div>

            {% endfor %}           

        <button type="submit">Enregistrer</button>
    </form>#}
            
            
            
    <div class="container">        
    <form method="POST" enctype="multipart/form-data">
        
        {#    PARTIE ENREGISTREMENT PROGRAMME    #}
        <div>
            <img class="prog_photo" src="{{ asset('image/') }}ajout-photo.jpg" alt="image">
            <label for="file" class="label-file">Ajouter une photo</label>
            <input id="file" class="input-file" type="file" name="photo" value="">
        </div>
        <div class="sport custom-dropdown">
            <label>Sport</label>
            <select name="sport">
                <option value="">Choisir</option>
                <option value="fitness" {% if programme.sport == 'fitness'%}selected{% endif %}>Fitness</option>
                <option value="muscu" {% if programme.sport == 'muscu'%}selected{% endif %}>Musculation</option>
                <option value="running" {% if programme.sport == 'running'%}selected{% endif %}>Running</option>
                <option value="stretching" {% if programme.sport == 'stretching'%}selected{% endif %}>Stretching</option>
                <option value="yoga" {% if programme.sport == 'yoga'%}selected{% endif %}>Yoga</option>
            </select>
        </div>
        <div class="titre_prog">
            <label>Titre du programme</label>
            <input type="text" name="titre" value="{{ programme.titre }}" placeholder="...">
        </div>
        <div class="membre">proposé par </div>
        
        <!-- Menu Recap (table) -->
        <ul class="recap recap_li_prog">
            <li class="recap_image">
                <img src="{{ asset('image/') }}objectif.jpg">

                <div class="menu_prog">
                    <label>Objectif</label><br>
                    <select name="objectif_id">
                        <option value="">Choisir</option>
                        {% for objectif in objectifs %}                    
                        <option value="{{ objectif.id }}" {% if objectif.id == programme.objectifId %}selected{% endif %} >{{ objectif.titre }}</option>
                        {% endfor %}
                    </select>
                </div>
            </li>

            <li class="recap_image">
                <img src="{{ asset('image/') }}level.jpg">

                <div class="menu_prog">
                    <label>Difficulté</label><br>
                    <select name="difficulte">
                        <option value="">Choisir</option>
                        <option value="facile" {% if programme.difficulte == 'facile'%}selected{% endif %}>Facile</option>
                        <option value="moyen" {% if programme.difficulte == 'moyen'%}selected{% endif %}>Moyen</option>
                        <option value="difficile" {% if programme.difficulte == 'difficile'%}selected{% endif %}>Difficile</option>
                        <option value="infernal" {% if programme.difficulte == 'infernal'%}selected{% endif %}>Infernal</option>
                    </select>
                </div>
            </li>

            <li class="recap_image">
                <img src="{{ asset('image/') }}time.jpg">

                <div class="menu_prog">
                    <label>Durée du programme</label><br>
                    <input type="texte" name="duree" placeholder="... semaines">
                </div>
            </li>

            <li class="recap_image">
                <img src="{{ asset('image/') }}altere.jpg">

                <div class="menu_prog">
                    <label>Matériel</label><br>
                    <select name="materiel">
                        <option value="">Choisir</option>
                        <option value="oui" {% if programme.materiel == 'oui'%}selected{% endif %}>Oui</option>
                        <option value="non" {% if programme.materiel == 'non'%}selected{% endif %}>Non</option>
                        <option value="facultatif" {% if programme.materiel == 'facultatif'%}selected{% endif %}>Facultatif</option>
                    </select>
                </div>
            </li>
        </ul>
        
        <!-- séparateur -->
        <div class="border"><hr></div>

        <!-- MENU DES JOURS -->
        <section>
            
            <div class="container-jour">
                <p>Calendrier du programme</p>
                
                <!-- NOM JOURS -->
                <ul>
                    
                    {% for i in 1..1 %}
                        
                        <li class="jour jour{{ i }}">
                            
                            <a class="jour_icon">Jour {{ i }}</a><hr>
                            
                            <input type="hidden" name="programme_id" value="">
                            
                            <div>
                                <label>Statut</label>
                                <select type="text" name="jour[{{i}}][statut]">
                                    <option value="">choisir</option>
                                    <option value="entrainement" {#{% if jours.statut == 'entrainement'%}selected{% endif %}#}>entrainement</option>
                                    <option value="repos">repos</option>
                                </select>
                            </div> 
                            <!-- CONTENU -->
                            <ul class="sub-menu sub-menu-j{{ i }}">
                               
                            {% for j in 1..1 %}
                                
                                <!-- exercice -->
                                <input type="hidden" name="jour_id" value="">
                                <p class="ex_titre">
                                <strong class="titre_prog">{{ j }}/.
                                <label>Titre</label>
                                <input type="texte" name="jour[{{i}}][exercice][{{j}}][titre]" placeholder="de l'exercice...">
                                    :</strong>
                                </p>
                                
                                <ul class="recap_ex">
                                    <li>
                                        <p>Nombre de répétition</p>

                                        <div class="menu_prog">
                                            <input type="texte" name="jour[{{i}}][exercice][{{j}}][repetition]" placeholder="... fois">
                                        </div>
                                    </li>
                                    <li>
                                        <p>Temps de repos</p>

                                        <div class="menu_prog">
                                            <input type="texte" name="jour[{{i}}][exercice][{{j}}][temps_repos]" placeholder="... sec. / min.">
                                        </div>
                                    </li>
                                    <li>
                                        <p>Nombre de série</p>

                                        <div class="menu_prog">
                                            <input type="texte" name="jour[{{i}}][exercice][{{j}}][serie]" placeholder="...">
                                        </div>
                                    </li>
                                </ul>
                                <ul class="corps_ex">
                                    <li class="colonne1">
                                        <hr>
                                        <div class="col1-bis">
                                            <img src="{{ asset('image/') }}level.jpg">
                                            <div>
                                                <label>Difficulté</label>
                                                <select name="jour[{{i}}][exercice][{{j}}][difficulte]">
                                                    <option value="">choisir</option>
                                                    <option value="facile">Facile</option>
                                                    <option value="moyen">Moyen</option>
                                                    <option value="difficile">Difficile</option>
                                                    <option value="infernal">Infernal</option>
                                                </select>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="col1-bis">
                                            <img src="{{ asset('image/') }}location.jpg">

                                            <div>
                                                <label>Zone Musculaire</label>
                                                <select name="jour[{{i}}][exercice][{{j}}][zone_musculaire]">
                                                    <option value="">Choisir</option>
                                                    <option value="bras">Bras</option>
                                                    <option value="cou">Cou</option>
                                                    <option value="dos">Dos</option>
                                                    <option value="epaule">Epaules</option>
                                                    <option value="fessiers">Fessiers</option>
                                                    <option value="jambes">Jambes</option>
                                                </select>
                                            </div>
                                        </div>
                                        <hr>
                                    </li>

                                    <li class="colonne2 col2-bis">
                                        <p>
                                        <i class="fa fa-ellipsis-v" aria-hidden="true"></i> Muscles ciblés :
                                        <div>
                                            <input type="texte" name="jour[{{i}}][exercice][{{j}}][muscle_cible]" placeholder="...">
                                        </div>
                                            </p>

                                            <textarea type="texte" name="jour[{{i}}][exercice][{{j}}][consigne]" id="consigne" placeholder= "Décrire l'exercice..."></textarea>
                                            <textarea type="texte" name="jour[{{i}}][exercice][{{j}}][detail_serie]" id="detail_serie" placeholder= "Décrire les séries..."></textarea>
                                    </li>

                                    <li class="colonne3">
                                        <div class="label-file label-file-ex">
                                            <img class="prog_photo" src="{{ asset('image/') }}ajout-photo.jpg" alt="image">

                                            <label for="file">Ajouter une photo</label>

                                            <input id="file" class="input-file" type="file" name="jour[{{i}}][exercice][{{j}}][photo]" value="">
                                        </div>
                                    </li>
                                </ul>
                                <!-- séparateur -->
				<div class="border"><hr></div>
                            {% endfor %}
                            </ul> 
                            <button type="button" class="clone_exercice" data-added="0" data-jour="{{i}}">Ajouter un exercice</button>
                        </li>        
                        
                    {% endfor %}    
                    
                </ul>
                
            </div>
            
        </section>
        <button type="submit">Enregistrer</button>
    </form>      
    </div>    
                   
    
            
            
                
    

    
{#    ---------------- CLONE POUR AJOUT EXERCICE -------------    #}
            
    <div style="display: none;" class="exercice exercice_template">
                        <h2>Exercice #EXERCICE#</h2>
                        <input type="hidden" name="jour_id" value="">
                        <div>
                            <label>Titre de l'exercice</label>
                            <input type="text" name="jour[#JOUR#][exercice][#EXERCICE#][titre]">
                        </div>
                        <div>
                            <label>Consigne</label>
                            <textarea type="text" name="jour[#JOUR#][exercice][#EXERCICE#][consigne]"></textarea>
                        </div>
                        <div>            
                            <label>Difficulté</label>
                            <select name="jour[#JOUR#][exercice][#EXERCICE#][difficulte]">
                                <option value="facile">Facile</option>
                                <option value="moyen">Moyen</option>
                                <option value="difficile">Difficile</option>
                                <option value="infernal">Infernal</option>
                            </select>
                        </div>
                        <div>            
                            <label>Zone musculaire</label>
                            <select name="jour[#JOUR#][exercice][#EXERCICE#][zone_musculaire]">
                                <option value="cou">Cou</option>
                                <option value="epaule">Epaules</option>
                                <option value="bras">Bras</option>
                                <option value="dos">Dos</option>
                            </select>
                        </div>
                        <div>
                            <label>Muscle ciblé</label>
                            <input type="text" name="jour[#JOUR#][exercice][#EXERCICE#][muscle_cible]">
                        </div>
                        <div>
                            <input type="hidden" name="jour_id" value="">
                        </div>
                        <div>
                            <label>Photo</label>
                            <input type="file" name="jour[#JOUR#][exercice][#EXERCICE#][photo]" value="">
                        </div>
                        <div>
                            <label>Séries</label>
                            <input type="text" name="jour[#JOUR#][exercice][#EXERCICE#][serie]" value="">
                        </div>
                        <div>
                            <label>Répétitions</label>
                            <input type="text" name="jour[#JOUR#][exercice][#EXERCICE#][repetition]" value="">
                        </div>
                        <div>
                            <label>Détails séries</label>
                            <textarea type="text" name="jour[#JOUR#][exercice][#EXERCICE#][detail_serie]"></textarea>
                        </div>
                        <div>
                            <label>Temps de repos entre chaque série</label>
                            <input type="text" name="jour[#JOUR#][exercice][#EXERCICE#][temps_repos]">
                        </div>
                    </div>

{% endblock %}
